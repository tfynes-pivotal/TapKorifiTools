{
  "apiVersion": "tanzu.vmware.com/v1",
  "kind": "SpringCloudGatewayRouteConfig",
  "metadata": {
    "annotations": {},
    "name": "customer-profile",
    "namespace": "default"
  },
  "spec": {
    "openapi": {
      "components": {
        "extensions": {},
        "schemas": {
          "CustomerProfileChangeRequest": {
            "exampleSetFlag": false,
            "properties": {
              "firstName": {
                "exampleSetFlag": false,
                "type": "string",
                "types": [
                  "string"
                ]
              },
              "lastName": {
                "exampleSetFlag": false,
                "type": "string",
                "types": [
                  "string"
                ]
              }
            },
            "required": [
              "firstName",
              "lastName"
            ],
            "type": "object",
            "types": [
              "object"
            ]
          },
          "CustomerProfileCreateRequest": {
            "exampleSetFlag": false,
            "properties": {
              "email": {
                "exampleSetFlag": false,
                "type": "string",
                "types": [
                  "string"
                ]
              },
              "firstName": {
                "exampleSetFlag": false,
                "type": "string",
                "types": [
                  "string"
                ]
              },
              "lastName": {
                "exampleSetFlag": false,
                "type": "string",
                "types": [
                  "string"
                ]
              }
            },
            "required": [
              "email"
            ],
            "type": "object",
            "types": [
              "object"
            ]
          },
          "CustomerProfileResponse": {
            "exampleSetFlag": false,
            "properties": {
              "email": {
                "exampleSetFlag": false,
                "type": "string",
                "types": [
                  "string"
                ]
              },
              "firstName": {
                "exampleSetFlag": false,
                "type": "string",
                "types": [
                  "string"
                ]
              },
              "id": {
                "exampleSetFlag": false,
                "type": "string",
                "types": [
                  "string"
                ]
              },
              "lastName": {
                "exampleSetFlag": false,
                "type": "string",
                "types": [
                  "string"
                ]
              }
            },
            "required": [
              "email",
              "id"
            ],
            "type": "object",
            "types": [
              "object"
            ]
          }
        }
      },
      "ref": "https://customer-profile-default.kindlab.fynesy.com/api-docs"
    },
    "routes": [
      {
        "filters": [
          "StripPrefix=1"
        ],
        "model": {
          "responses": {
            "200": {
              "content": {
                "*/*": {
                  "exampleSetFlag": false,
                  "schema": {
                    "exampleSetFlag": false,
                    "items": {
                      "$ref": "#/components/schemas/CustomerProfileResponse",
                      "exampleSetFlag": false
                    },
                    "type": "array",
                    "types": [
                      "array"
                    ]
                  }
                }
              },
              "description": "Customer profiles retrieved successfully."
            }
          }
        },
        "predicates": [
          "Path=/cp/api/customer-profiles",
          "Method=GET"
        ],
        "tags": [
          "Customer Profile CRUD"
        ],
        "title": "Get all customer profiles."
      },
      {
        "filters": [],
        "model": {
          "requestBody": {
            "content": {
              "application/json": {
                "exampleSetFlag": false,
                "schema": {
                  "$ref": "#/components/schemas/CustomerProfileCreateRequest",
                  "exampleSetFlag": false
                }
              }
            },
            "required": true
          },
          "responses": {
            "201": {
              "content": {
                "*/*": {
                  "exampleSetFlag": false,
                  "schema": {
                    "$ref": "#/components/schemas/CustomerProfileResponse",
                    "exampleSetFlag": false
                  }
                }
              },
              "description": "Customer profile successfully saved.",
              "headers": {
                "Location": {
                  "description": "Contains path which can be used to retrieve saved profile. Last element is it's ID.",
                  "explode": false,
                  "required": true,
                  "schema": {
                    "exampleSetFlag": false,
                    "type": "string",
                    "types": [
                      "string"
                    ]
                  },
                  "style": "SIMPLE"
                }
              }
            },
            "400": {
              "content": {
                "*/*": {
                  "exampleSetFlag": false,
                  "schema": {
                    "$ref": "#/components/schemas/CustomerProfileResponse",
                    "exampleSetFlag": false
                  }
                }
              },
              "description": "Passed customer profile is invalid."
            }
          }
        },
        "predicates": [
          "Path=/cp/api/customer-profiles",
          "Method=POST"
        ],
        "tags": [
          "Customer Profile CRUD"
        ],
        "title": "Saves provided customer profile."
      },
      {
        "filters": [],
        "model": {
          "responses": {
            "200": {
              "content": {
                "*/*": {
                  "exampleSetFlag": false,
                  "schema": {
                    "$ref": "#/components/schemas/CustomerProfileResponse",
                    "exampleSetFlag": false
                  }
                }
              },
              "description": "Customer profile retrieved successfully."
            },
            "404": {
              "content": {
                "*/*": {
                  "exampleSetFlag": false,
                  "schema": {
                    "$ref": "#/components/schemas/CustomerProfileResponse",
                    "exampleSetFlag": false
                  }
                }
              },
              "description": "Customer profile not found."
            }
          }
        },
        "predicates": [
          "Path=/cp/api/customer-profiles/{id}",
          "Method=GET"
        ],
        "tags": [
          "Customer Profile CRUD"
        ],
        "title": "Get customer profile."
      },
      {
        "filters": [],
        "model": {
          "responses": {
            "200": {
              "description": "Customer profile successfully deleted."
            }
          }
        },
        "predicates": [
          "Path=/cp/api/customer-profiles/{id}",
          "Method=DELETE"
        ],
        "tags": [
          "Customer Profile CRUD"
        ],
        "title": "Delete customer profile."
      },
      {
        "filters": [],
        "model": {
          "requestBody": {
            "content": {
              "application/json": {
                "exampleSetFlag": false,
                "schema": {
                  "$ref": "#/components/schemas/CustomerProfileChangeRequest",
                  "exampleSetFlag": false
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "content": {
                "*/*": {
                  "exampleSetFlag": false,
                  "schema": {
                    "$ref": "#/components/schemas/CustomerProfileResponse",
                    "exampleSetFlag": false
                  }
                }
              },
              "description": "Customer profile successfully saved."
            }
          }
        },
        "predicates": [
          "Path=/cp/api/customer-profiles/{id}",
          "Method=PATCH"
        ],
        "tags": [
          "Customer Profile CRUD"
        ],
        "title": "Update customer profile."
      }
    ],
    "service": {
      "name": "customer-profile",
      "namespace": "default"
    }
  }
}
